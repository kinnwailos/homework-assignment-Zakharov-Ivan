# –î–æ–º–∞—à–Ω–µ–µ –∑–∞–¥–∞–Ω–∏–µ –∫ –∑–∞–Ω—è—Ç–∏—é "`Ansible. –ß–∞—Å—Ç—å 2`" - `–ó–∞—Ö–∞—Ä–æ–≤ –ò–≤–∞–Ω`


`–ü—Ä–∏–≤–µ–¥–∏—Ç–µ –æ—Ç–≤–µ—Ç –≤ —Å–≤–æ–±–æ–¥–Ω–æ–π —Ñ–æ—Ä–º–µ........`

1. `–ó–∞–ø–æ–ª–Ω–∏—Ç–µ –∑–¥–µ—Å—å —ç—Ç–∞–ø—ã –≤—ã–ø–æ–ª–Ω–µ–Ω–∏—è, –µ—Å–ª–∏ —Ç—Ä–µ–±—É–µ—Ç—Å—è ....`
2. `–ó–∞–ø–æ–ª–Ω–∏—Ç–µ –∑–¥–µ—Å—å —ç—Ç–∞–ø—ã –≤—ã–ø–æ–ª–Ω–µ–Ω–∏—è, –µ—Å–ª–∏ —Ç—Ä–µ–±—É–µ—Ç—Å—è ....`
3. `–ó–∞–ø–æ–ª–Ω–∏—Ç–µ –∑–¥–µ—Å—å —ç—Ç–∞–ø—ã –≤—ã–ø–æ–ª–Ω–µ–Ω–∏—è, –µ—Å–ª–∏ —Ç—Ä–µ–±—É–µ—Ç—Å—è ....`
4. `–ó–∞–ø–æ–ª–Ω–∏—Ç–µ –∑–¥–µ—Å—å —ç—Ç–∞–ø—ã –≤—ã–ø–æ–ª–Ω–µ–Ω–∏—è, –µ—Å–ª–∏ —Ç—Ä–µ–±—É–µ—Ç—Å—è ....`
5. `–ó–∞–ø–æ–ª–Ω–∏—Ç–µ –∑–¥–µ—Å—å —ç—Ç–∞–ø—ã –≤—ã–ø–æ–ª–Ω–µ–Ω–∏—è, –µ—Å–ª–∏ —Ç—Ä–µ–±—É–µ—Ç—Å—è ....`
6. 

```
–ü–æ–ª–µ –¥–ª—è –≤—Å—Ç–∞–≤–∫–∏ –∫–æ–¥–∞...
....
....
....
....
```

`–ü—Ä–∏ –Ω–µ–æ–±—Ö–æ–¥–∏–º–æ—Å—Ç–∏ –ø—Ä–∏–∫—Ä–µ–ø–∏—Çe —Å—é–¥–∞ —Å–∫—Ä–∏–Ω—à–æ—Ç—ã
![–ù–∞–∑–≤–∞–Ω–∏–µ —Å–∫—Ä–∏–Ω—à–æ—Ç–∞ 1](—Å—Å—ã–ª–∫–∞ –Ω–∞ —Å–∫—Ä–∏–Ω—à–æ—Ç 1)`


---

### –ó–∞–¥–∞–Ω–∏–µ 2

`–ü—Ä–∏–≤–µ–¥–∏—Ç–µ –æ—Ç–≤–µ—Ç –≤ —Å–≤–æ–±–æ–¥–Ω–æ–π —Ñ–æ—Ä–º–µ........`

1. `–ó–∞–ø–æ–ª–Ω–∏—Ç–µ –∑–¥–µ—Å—å —ç—Ç–∞–ø—ã –≤—ã–ø–æ–ª–Ω–µ–Ω–∏—è, –µ—Å–ª–∏ —Ç—Ä–µ–±—É–µ—Ç—Å—è ....`
2. `–ó–∞–ø–æ–ª–Ω–∏—Ç–µ –∑–¥–µ—Å—å —ç—Ç–∞–ø—ã –≤—ã–ø–æ–ª–Ω–µ–Ω–∏—è, –µ—Å–ª–∏ —Ç—Ä–µ–±—É–µ—Ç—Å—è ....`
3. `–ó–∞–ø–æ–ª–Ω–∏—Ç–µ –∑–¥–µ—Å—å —ç—Ç–∞–ø—ã –≤—ã–ø–æ–ª–Ω–µ–Ω–∏—è, –µ—Å–ª–∏ —Ç—Ä–µ–±—É–µ—Ç—Å—è ....`
4. `–ó–∞–ø–æ–ª–Ω–∏—Ç–µ –∑–¥–µ—Å—å —ç—Ç–∞–ø—ã –≤—ã–ø–æ–ª–Ω–µ–Ω–∏—è, –µ—Å–ª–∏ —Ç—Ä–µ–±—É–µ—Ç—Å—è ....`
5. `–ó–∞–ø–æ–ª–Ω–∏—Ç–µ –∑–¥–µ—Å—å —ç—Ç–∞–ø—ã –≤—ã–ø–æ–ª–Ω–µ–Ω–∏—è, –µ—Å–ª–∏ —Ç—Ä–µ–±—É–µ—Ç—Å—è ....`
6. 

```
–ü–æ–ª–µ –¥–ª—è –≤—Å—Ç–∞–≤–∫–∏ –∫–æ–¥–∞...
....
....
....
....
```

`–ü—Ä–∏ –Ω–µ–æ–±—Ö–æ–¥–∏–º–æ—Å—Ç–∏ –ø—Ä–∏–∫—Ä–µ–ø–∏—Çe —Å—é–¥–∞ —Å–∫—Ä–∏–Ω—à–æ—Ç—ã
![–ù–∞–∑–≤–∞–Ω–∏–µ —Å–∫—Ä–∏–Ω—à–æ—Ç–∞ 2](—Å—Å—ã–ª–∫–∞ –Ω–∞ —Å–∫—Ä–∏–Ω—à–æ—Ç 2)`


---

### –ó–∞–¥–∞–Ω–∏–µ 3

`–ü—Ä–∏–≤–µ–¥–∏—Ç–µ –æ—Ç–≤–µ—Ç –≤ —Å–≤–æ–±–æ–¥–Ω–æ–π —Ñ–æ—Ä–º–µ........`

1. `–ó–∞–ø–æ–ª–Ω–∏—Ç–µ –∑–¥–µ—Å—å —ç—Ç–∞–ø—ã –≤—ã–ø–æ–ª–Ω–µ–Ω–∏—è, –µ—Å–ª–∏ —Ç—Ä–µ–±—É–µ—Ç—Å—è ....`
2. `–ó–∞–ø–æ–ª–Ω–∏—Ç–µ –∑–¥–µ—Å—å —ç—Ç–∞–ø—ã –≤—ã–ø–æ–ª–Ω–µ–Ω–∏—è, –µ—Å–ª–∏ —Ç—Ä–µ–±—É–µ—Ç—Å—è ....`
3. `–ó–∞–ø–æ–ª–Ω–∏—Ç–µ –∑–¥–µ—Å—å —ç—Ç–∞–ø—ã –≤—ã–ø–æ–ª–Ω–µ–Ω–∏—è, –µ—Å–ª–∏ —Ç—Ä–µ–±—É–µ—Ç—Å—è ....`
4. `–ó–∞–ø–æ–ª–Ω–∏—Ç–µ –∑–¥–µ—Å—å —ç—Ç–∞–ø—ã –≤—ã–ø–æ–ª–Ω–µ–Ω–∏—è, –µ—Å–ª–∏ —Ç—Ä–µ–±—É–µ—Ç—Å—è ....`
5. `–ó–∞–ø–æ–ª–Ω–∏—Ç–µ –∑–¥–µ—Å—å —ç—Ç–∞–ø—ã –≤—ã–ø–æ–ª–Ω–µ–Ω–∏—è, –µ—Å–ª–∏ —Ç—Ä–µ–±—É–µ—Ç—Å—è ....`
6. 

```
–ü–æ–ª–µ –¥–ª—è –≤—Å—Ç–∞–≤–∫–∏ –∫–æ–¥–∞...
....
....
....
....
```

`–ü—Ä–∏ –Ω–µ–æ–±—Ö–æ–¥–∏–º–æ—Å—Ç–∏ –ø—Ä–∏–∫—Ä–µ–ø–∏—Çe —Å—é–¥–∞ —Å–∫—Ä–∏–Ω—à–æ—Ç—ã
![–ù–∞–∑–≤–∞–Ω–∏–µ —Å–∫—Ä–∏–Ω—à–æ—Ç–∞](—Å—Å—ã–ª–∫–∞ –Ω–∞ —Å–∫—Ä–∏–Ω—à–æ—Ç)`

### –ó–∞–¥–∞–Ω–∏–µ 4

`–ü—Ä–∏–≤–µ–¥–∏—Ç–µ –æ—Ç–≤–µ—Ç –≤ —Å–≤–æ–±–æ–¥–Ω–æ–π —Ñ–æ—Ä–º–µ........`

1. `–ó–∞–ø–æ–ª–Ω–∏—Ç–µ –∑–¥–µ—Å—å —ç—Ç–∞–ø—ã –≤—ã–ø–æ–ª–Ω–µ–Ω–∏—è, –µ—Å–ª–∏ —Ç—Ä–µ–±—É–µ—Ç—Å—è ....`
2. `–ó–∞–ø–æ–ª–Ω–∏—Ç–µ –∑–¥–µ—Å—å —ç—Ç–∞–ø—ã –≤—ã–ø–æ–ª–Ω–µ–Ω–∏—è, –µ—Å–ª–∏ —Ç—Ä–µ–±—É–µ—Ç—Å—è ....`
3. `–ó–∞–ø–æ–ª–Ω–∏—Ç–µ –∑–¥–µ—Å—å —ç—Ç–∞–ø—ã –≤—ã–ø–æ–ª–Ω–µ–Ω–∏—è, –µ—Å–ª–∏ —Ç—Ä–µ–±—É–µ—Ç—Å—è ....`
4. `–ó–∞–ø–æ–ª–Ω–∏—Ç–µ –∑–¥–µ—Å—å —ç—Ç–∞–ø—ã –≤—ã–ø–æ–ª–Ω–µ–Ω–∏—è, –µ—Å–ª–∏ —Ç—Ä–µ–±—É–µ—Ç—Å—è ....`
5. `–ó–∞–ø–æ–ª–Ω–∏—Ç–µ –∑–¥–µ—Å—å —ç—Ç–∞–ø—ã –≤—ã–ø–æ–ª–Ω–µ–Ω–∏—è, –µ—Å–ª–∏ —Ç—Ä–µ–±—É–µ—Ç—Å—è ....`
6. 

```
–ü–æ–ª–µ –¥–ª—è –≤—Å—Ç–∞–≤–∫–∏ –∫–æ–¥–∞...
....
....
....
....
```

`–ü—Ä–∏ –Ω–µ–æ–±—Ö–æ–¥–∏–º–æ—Å—Ç–∏ –ø—Ä–∏–∫—Ä–µ–ø–∏—Çe —Å—é–¥–∞ —Å–∫—Ä–∏–Ω—à–æ—Ç—ã
![–ù–∞–∑–≤–∞–Ω–∏–µ —Å–∫—Ä–∏–Ω—à–æ—Ç–∞](—Å—Å—ã–ª–∫–∞ –Ω–∞ —Å–∫—Ä–∏–Ω—à–æ—Ç)`




# –î–æ–º–∞—à–Ω–µ–µ –∑–∞–¥–∞–Ω–∏–µ –ø–æ Ansible

–°—Ç—É–¥–µ–Ω—Ç: [–í–∞—à–µ –ò–º—è –§–∞–º–∏–ª–∏—è]  
–ö—É—Ä—Å: –ê–¥–º–∏–Ω–∏—Å—Ç—Ä–∏—Ä–æ–≤–∞–Ω–∏–µ Linux  
–î–∞—Ç–∞ —Å–¥–∞—á–∏: 05.02.2026

---

## üìã –°–æ–¥–µ—Ä–∂–∞–Ω–∏–µ
- [–ó–∞–¥–∞–Ω–∏–µ 1: –¢—Ä–∏ –ø–ª–µ–π–±—É–∫–∞](#–∑–∞–¥–∞–Ω–∏–µ-1-—Ç—Ä–∏-–ø–ª–µ–π–±—É–∫–∞)
  - [1.1 –°–∫–∞—á–∏–≤–∞–Ω–∏–µ –∏ —Ä–∞—Å–ø–∞–∫–æ–≤–∫–∞ Kafka](#11-—Å–∫–∞—á–∏–≤–∞–Ω–∏–µ-–∏-—Ä–∞—Å–ø–∞–∫–æ–≤–∫–∞-kafka)
  - [1.2 –£—Å—Ç–∞–Ω–æ–≤–∫–∞ tuned](#12-—É—Å—Ç–∞–Ω–æ–≤–∫–∞-tuned)
  - [1.3 –ò–∑–º–µ–Ω–µ–Ω–∏–µ MOTD —Å –ø–µ—Ä–µ–º–µ–Ω–Ω–æ–π](#13-–∏–∑–º–µ–Ω–µ–Ω–∏–µ-motd-—Å-–ø–µ—Ä–µ–º–µ–Ω–Ω–æ–π)
- [–ó–∞–¥–∞–Ω–∏–µ 2: –î–∏–Ω–∞–º–∏—á–µ—Å–∫–∏–π MOTD](#–∑–∞–¥–∞–Ω–∏–µ-2-–¥–∏–Ω–∞–º–∏—á–µ—Å–∫–∏–π-motd)
- [–ó–∞–¥–∞–Ω–∏–µ 3: –†–æ–ª—å –¥–ª—è Apache](#–∑–∞–¥–∞–Ω–∏–µ-3-—Ä–æ–ª—å-–¥–ª—è-apache)
- [–°—Ç—Ä—É–∫—Ç—É—Ä–∞ –ø—Ä–æ–µ–∫—Ç–∞](#—Å—Ç—Ä—É–∫—Ç—É—Ä–∞-–ø—Ä–æ–µ–∫—Ç–∞)
- [–ö–∞–∫ –∑–∞–ø—É—Å—Ç–∏—Ç—å](#–∫–∞–∫-–∑–∞–ø—É—Å—Ç–∏—Ç—å)

---

## –ó–∞–¥–∞–Ω–∏–µ 1: –¢—Ä–∏ –ø–ª–µ–π–±—É–∫–∞

### 1.1 –°–∫–∞—á–∏–≤–∞–Ω–∏–µ –∏ —Ä–∞—Å–ø–∞–∫–æ–≤–∫–∞ Kafka

**–§–∞–π–ª:** [`playbooks/kafka_download.yml`](playbooks/kafka_download.yml)

```yaml
---
- name: Download and unpack Apache Kafka archive
  hosts: all
  become: yes
  vars:
    kafka_version: "3.6.1"
    download_url: "https://archive.apache.org/dist/kafka/{{ kafka_version }}/kafka_2.13-{{ kafka_version }}.tgz"
    download_dest: "/tmp/kafka_{{ kafka_version }}.tgz"
    extract_path: "/opt/kafka"

  tasks:
    - name: Install required packages for Debian/Ubuntu
      apt:
        name: 
          - wget
          - tar
          - gzip
        state: present
        update_cache: no
      when: ansible_os_family == "Debian"

    - name: Create directory for extraction
      file:
        path: "{{ extract_path }}"
        state: directory
        owner: root
        group: root
        mode: '0755'

    - name: Download Kafka archive
      get_url:
        url: "{{ download_url }}"
        dest: "{{ download_dest }}"
        mode: '0644'
      register: download_result
      until: download_result is succeeded
      retries: 3
      delay: 5

    - name: Extract Kafka archive
      unarchive:
        src: "{{ download_dest }}"
        dest: "{{ extract_path }}"
        remote_src: yes
        creates: "{{ extract_path }}/kafka_2.13-{{ kafka_version }}"
